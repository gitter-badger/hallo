modal-fixo-controle-ilimitado
  .modal.modal-green(show="{ visible }")

    .modal_column-left
      header.modal_header
        .modal_header_logo
        h1.modal_header_title plano controle ilimitado

    .modal_column-right
      main.modal_container

        .modal_container_row
          .modal_container_half-left
            h4 Valor fixo. Sem surpresas.

          .modal_container_half-right
            button.filled
                em Compre agora

        .modal_container_row
          table.modal-table
              thead
                tr
                  th
                  th Ligações locais <br>para Fixo da Oi 
                  th Ligações locais para<br>fixos de outras operadoras
                  th Ligações DDD para <br>qualquer fixo 
              tbody
                tr
                  td
                    oi-price(price="{49.90}" small="{true}")
                  td
                    span.selo Ilimitado
                  td
                    span.selo Ilimitado
                  td
                    | -
                tr
                  td.gray-obs(colspan="4")
                    p Ao finalizar a compra, você ainda pode incluir:
                    h5 VOZ TOTAL (Fixo + Pré)
                    p 
                      span Chip pré com ligações ilimitadas para Fixo e Celular da Oi, internet, torpedos e Oi WiFi.
                

        .modal_container_row
          h5 Entenda oferta
          ul.ordened
            li 
              p Com o Fixo Controle Ilimitado você pode ligar para qualquer fixo local.
            li 
              p O valor da conta é sempre o mesmo. Você tem total controle sobre o que irá pagar no final do mês.
            li 
              p Para ligar para celulares, longa distância (DDD) e exterior (DDI) é preciso recarregar seu telefone.
            li 
              p Os serviços que você usa através da recarga tem tarifas específicas.
            li 
              p A validade dos créditos de recarga é de 180 dias.
            li 
              p Para consultar seu saldo, ligue 0800 288 8831.
              
    a.modal_close(href="javascript:void(0);", onclick="{ close }") Fechar

  script.
    var self = this;
    self.visible = false;
    self.added = false;

    /**
     * native riot method
     *
     * dispacth events via oiMediator to any point needed on entire system
     * 
     * **/
    this.on('mount update unmount', function(eventName) {
      oiMediator.publish('modal-fixo-controle-ilimitado event', eventName);
    });

    self.open = function() {
      $('body').addClass('scroll-lock');
      self.visible = true;
      self.update();
      oiMediator.publish( 'modal-fixo-controle-ilimitado open', {} );
    };

    self.close = function() {
      $('body').removeClass('scroll-lock');
      self.visible = false;
      self.update();
      oiMediator.publish( 'modal-fixo-controle-ilimitado close', {} );
    };

    document.onkeydown = function(evt) {
      evt = evt || window.event;
      if (evt.keyCode == 27) { // Esc
        self.close();
      }
    };

    if (opts.visible) {
      self.open();
    }

    $('body').on('click', '#open-modal-fixo-controle-ilimitado', function(evt){
      evt.preventDefault();
      self.open();
    });

    //- self.open();
